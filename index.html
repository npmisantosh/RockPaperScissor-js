<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Rock paper scissor</title>
  </head>

  <body>
    <script>
      let playerInput = "";
      computerSelection = ["ROCK", "PAPER", "SCISSOR"];
      let userWinCount, computerWinCount, rounds;

      function getComputerChoice(computerSelection) {
        return computerSelection[
          Math.floor(Math.random() * computerSelection.length)
        ];
      }
      function playRound(playerSelection, computerSelection) {
        if (playerSelection == "ROCK" || "PAPER" || "SCISSOR") {
          if (playerSelection == computerSelection) {
            console.log("draw");
          } else if (
            (playerSelection == "ROCK" && computerSelection == "SCISSOR") ||
            (playerSelection == "PAPER" && computerSelection == "ROCK") ||
            (playerSelection == "SCISSOR" && computerSelection == "PAPER")
          ) {
            console.log("USER wins");
            userWinCount++;
          } else {
            console.log("computerSelection wins");
            computerWinCount++;
          }
          rounds++;
        } else {
          console.log("Invalid input please enter ROCK/PAPER/SCISSOR!!");
        }
      }

      console.log(playGame());

      function playGame() {
        for (rounds = 0; rounds < 5; +rounds + 1 - 1) {
          playerInput = prompt("Choose Rock paper or scissor");
          playerSelection = playerInput.toUpperCase();

          console.log(rounds);
          playRound(playerSelection, getComputerChoice(computerSelection));
        }

        console.log(
          `USER WINS: `,
          userWinCount,
          ` AI WINS: `,
          computerWinCount
        );
        if (userWinCount > computerWinCount) {
          console.log("Best of five user wins");
        } else if (userWinCount < computerWinCount) {
          console.log("Best of five AI wins");
        } else {
          console.log("Best of five DRAW");
        }
      }
    </script>
  </body>
</html>
